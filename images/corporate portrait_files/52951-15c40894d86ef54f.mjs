"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[52951],{468344:(e,t,r)=>{r.d(t,{Z:()=>ep});var n=r(616550),i=r(700280),a=r(525364),o=r(883119),s=r(696534),d=r(554786),l=r(785893);function u({children:e}){let t=(0,s.vs)(),r=(0,d.HG)();return(0,l.jsx)(o.Ag,{colorScheme:t&&!r?"dark":"light",children:e})}function p({children:e}){let t=(0,d.ml)();return(0,l.jsx)(o.Q_,{deviceType:t?"mobile":"desktop",children:e})}var c=r(5859);let m=["web_gestalt_visualRefresh"];function h({children:e}){let t=(0,c.B)(),r=m.reduce((e,r)=>({...e,[r]:t.experimentsClient.checkExperiment(r)}),{});return(0,l.jsx)(o.II,{value:r,children:e})}var _=r(667294),f=r(953565);function v(e){(0,f.nP)("gestalt-component-impression",{tags:{component:e}})}var g=r(30378),w=r(340370),P=r(239821);function E({children:e}){let{sheetMobileHandlers:t,linkHandlers:r,radioGroupHandlers:n,datePickerHandlers:i,dateFieldHandlers:a,dateRangeHandlers:s}=function(){let{setAppFocusState:e}=(0,P.I)(),t=(0,_.useCallback)(()=>{g.Z.pause(),e(!1)},[e]),r=(0,_.useCallback)(()=>{g.Z.resume(),e(!0)},[e]),n=(0,_.useMemo)(()=>({onOpen:t,onClose:r}),[t,r]),i=(0,_.useMemo)(()=>({onRender:()=>{v("RadioGroup")}}),[]),a=(0,_.useMemo)(()=>({onRender:()=>{v("DateField")}}),[]),o=(0,_.useMemo)(()=>({onRender:()=>{v("DatePicker")}}),[]),s=(0,_.useMemo)(()=>({onRender:()=>{v("DateRange")}}),[]);return{linkHandlers:(0,_.useMemo)(()=>({onNavigation:({href:e,target:t})=>(0,w.Z)({href:e,target:t})}),[]),sheetMobileHandlers:n,radioGroupHandlers:i,dateFieldHandlers:a,datePickerHandlers:o,dateRangeHandlers:s}}();return(0,l.jsx)(o.uu,{dateFieldHandlers:a,datePickerHandlers:i,dateRangeHandlers:s,linkHandlers:r,radioGroupHandlers:n,sheetMobileHandlers:t,children:e})}var y=r(901855),T=r(770244),C=r(130571),b=r(297329),x=r(707671),S=r(194087),L=r(939129),A=r(760890),D=r(107981),R=r(95732),k=r(45528),Z=r(485756),I=r(643778),j=r(302234),$=r(371626),O=r(663678),N=r(396596);let H=({botType:e,browserName:t,deviceType:r,region:n})=>{let i=`pwtlogger.${e}.${r}`,a=["all",...n?[n.toLowerCase()]:[]];"OTHER"!==n&&a.push("ALL_EXCLUDING_OTHER");let o=[];"desktop"===r?("Chrome"===t||"Edge"===t||"Safari"===t||"Firefox"===t||"Opera"===t)&&(o=[t.toLowerCase().replace(/\s/g,"_")]):"phone"===r?("Chrome"===t||"Mobile Safari"===t||"Samsung Browser"===t||"Chrome WebView"===t||"GSA"===t)&&(o=[t.toLowerCase().replace(/\s/g,"_")]):"tablet"===r&&"Chrome"===t&&(o=[t.toLowerCase().replace(/\s/g,"_")]);let s=["all",...o],d=[];return a.forEach(e=>{s.forEach(t=>{d.push(`${i}.region_${e}.browser_${t}`)})}),d};var B=r(865611),M=r(421715);let U=e=>10*Math.round(e/10),V={pin_closeup:{LCP:"pin_closeup_lcp",INP:"pin_closeup_inp"},board:{LCP:"board_lcp",INP:"board_inp"},other_profile:{LCP:"other_profile_lcp",INP:"other_profile_inp"},topic:{LCP:"topic_lcp",INP:"topic_inp"}},z=["CA","GB","DE","FR","AU","JP","BR","MX","AU","IN"],F=({surface:e,pwtStaticContext:t})=>{switch(e){case"pin_closeup":return[...t.isAuthenticated?["desktop"===t.deviceType?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];case"board":return[t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];default:return[]}},Y=({pwtStaticContext:e,surface:t})=>{let r=(0,I.Jx)({annotateExperiments:F({surface:t,pwtStaticContext:e}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:V[t].LCP,pwtStaticContext:e}),n=(0,I.Jx)({name:V[t].INP,pwtStaticContext:e});return(e,t)=>{"LCP"===e?r.stop(t):"INP"===e&&n.stop(t)}},q=({pwtStaticContext:e,surface:t,getCurrentRoute:r})=>{let n=Y({pwtStaticContext:e,surface:t}),{isAuthenticated:i,isBot:a,isSocialBot:o,deviceType:s,country:d,fullPath:l,browserName:u,osName:p}=e,c={},m=({name:m,value:h,metricDetails:_})=>{if(!c[m]){let v;c[m]=!0;let g=(0,O.Z)(e),w=`${g}.${t}.${m}`,P=`${g}.tags.${t}.${m}`;if(v="iOS"===p&&"Chrome"===u?"iOS_Chrome":"CrUX","LCPCount"===m)(0,f.QX)(`${w}.sum`,h,{sampleRate:1}),(0,f.nP)(`${w}.size`,{sampleRate:1});else{let e=(0,$.Z)(d),p=(0,N.Z)(l);if("INP"===m){if(_){let{rating:t,navigationType:n}=_,{interactionTime:a,interactionType:o,loadState:s}=_.attribution,d=(0,B.Z)(a),{path:l}=r(),p={isAuth:i,path:l,CrUXSegment:v,region:e,CWVBucket:t,eventTimeGroup:d,interactionType:o,loadState:s,navigationType:n,domain:(0,Z.xR)(document.domain||"unknown")};if((0,f.LY)(`${w}`,h,{sampleRate:1}),(0,f.LY)(`${P}`,h,{sampleRate:1,tags:p}),"Chrome"===u&&_.attribution){let e=(0,M.b)(_);e&&(0,f.LY)(`${w}.INPBoundary`,h,{sampleRate:1,tags:{...p,INPBoundary:e}}),["inputDelay","processingDuration","presentationDelay"].forEach(e=>{(0,f.LY)(`${w}.${e}`,_.attribution[e],{sampleRate:1,tags:p})})}}}else"LCP"===m?((0,f.LY)(`${w}`,h,{sampleRate:1}),(0,f.LY)(`${P}`,h,{sampleRate:1,tags:{isAuth:i,CrUXSegment:v,region:e,...p&&{pinType:p}}})):"CLS"===m&&((0,f.LY)(`${w}`,1e3*h,{sampleRate:1}),(0,f.LY)(`${P}`,1e3*h,{sampleRate:1,tags:{isAuth:i,CrUXSegment:v,region:e}}));!i&&z.includes(d)&&H({botType:o&&"socialBot"||a&&"bot"||"nonbot",browserName:u,deviceType:s,region:e}).forEach(e=>{(0,f.LY)(`${e}.tags.growthSEO.${t}_${m}`,h,{sampleRate:1,tags:{country:d}})}),n(m,h)}}};(0,k.NO)(({value:e})=>{m({name:"LCPCount",value:(0,j.Kj)()}),m({name:"LCP",value:U(e)})}),(0,k.a4)(({value:e})=>{m({name:"FCP",value:e})}),(0,k.Yn)(e=>{m({name:"INP",value:e.value,metricDetails:e})}),(0,k.mw)(({value:e})=>{m({name:"CLS",value:e})})};var G=r(107860);let X=(0,r(608029).XV)("LayoutShiftDebugger"),J=e=>e<=.1?"good":e<=.25?"adequate":"poor",W=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&W(e.parentNode)||null,Q=e=>Math.round(1e3*e),K=[],ee=e=>{let t=Object.freeze({}),r=0;K.forEach(({value:e,shift:{sources:n},route:i,params:a,hadRecentNavigation:o,hadRecentScroll:s,isAuth:d})=>{if(r+=e,!n||!n.length)return;let l=e/n.length;n.forEach(({node:e})=>{let r=e?W(e)||"ROOT":"NODE_REMOVED",n={route:i,searchScope:a&&a.scope?a.scope:"none",boundaryId:r,hadRecentNavigation:o,hadRecentScroll:s,isAuth:d,domain:(0,Z.xR)(document.domain||"unknown")},u=JSON.stringify(n);t={...t,[u]:{score:((t[u]||{}).score||0)+l,tags:n}}})}),Object.keys(t).forEach(r=>{let{score:n,tags:i}=t[r];(0,f.QX)(`${e}.shifts`,Q(n),{sampleRate:1,tags:{...i}}),(0,f.LY)(`${e}.shifts`,Q(n),{sampleRate:1,tags:{...i}})}),X("Debug CLS boundaries",r,t,K),K=[]},et=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:r})=>{let n;let i=(0,I.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e}),a=0,o=e=>{a=e.timeStamp};window.addEventListener("scroll",o),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",o)});let s=`${(0,O.Z)(e)}.CLS`,d=()=>ee(s),l=0,u=0,p=0;(0,k.mw)(({entries:i,value:o})=>{if(p=o||0,i.length){let{path:s,params:d}=t();n=r();let p=i[0].startTime,c=l!==p,m=c?i:i.slice(u);c&&(l=p),K=K.concat(m.map(t=>({value:o,shift:t,route:s,params:d,hadRecentNavigation:n>0&&n+500>t.startTime,hadRecentScroll:a>0&&a+500>t.startTime,isAuth:e.isAuthenticated}))),u=i.length}},!0);let c=setInterval(()=>{if(K.length){d();let e=J(p);(0,f.QX)(`${s}.${e}`,1,{sampleRate:1}),(0,f.LY)(`${s}.${e}`,1,{sampleRate:1}),i.stop(Q(p))}},1e3);window.addEventListener("beforeunload",()=>{clearInterval(c),0===p&&i.abort("no_shifts_detected")})};var er=r(279600);let en=()=>{(0,b.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||(0,b.A9)(`not_supported.window.performance.${e}`)}):(0,b.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,b.A9)("not_supported.window.PerformanceObserer"),(0,A.v)()||(0,b.A9)("not_supported.grid_profiler")},ei=()=>window.performance?.now?window.performance.now():null,ea=e=>["/advertiser/"].reduce((t,r)=>e.includes(r)||t,!1);function eo({children:e,immutableLocation:t,resourceTimingCacheSize:r,routerHistoryAction:i,staticContext:a}){let o=(0,_.useRef)(null),s=(0,_.useRef)(null),d=(0,_.useRef)(t),u=(0,_.useRef)(!0),{path:p,params:c}=(0,n.$B)(),m=(0,_.useRef)(p),h=(0,_.useRef)(c),f=!a.isCachedRender&&(0,x.Z)(a.deviceType);if((0,_.useEffect)(()=>{m.current=p},[p]),(0,_.useEffect)(()=>{h.current=c},[c]),(0,_.useEffect)(()=>{if((0,er.X_)({size:r||1e3}),(0,j.UQ)(),en(),u.current=!1,f&&!S.is&&"Chrome"===a.browserName){et({staticContext:a,getCurrentRoute:()=>({path:m.current,params:h.current}),getLastNavigationTime:()=>s.current||0});let e=(0,L.e)(m.current);e&&q({pwtStaticContext:a,surface:e,getCurrentRoute:()=>({path:m.current})})}},[]),ea(t.pathname)?d.current.pathname!==t.pathname:d.current!==t){d.current=t,s.current=ei();let{current:e}=s;if(!u.current){let t=!o.current;(0,b.A9)("routeStart",{tags:{action:i}}),(0,er.Eg)(t),(0,j.Ux)(t),(0,j.on)(),(0,G.tl)();let{customBufferSize:r,defaultBufferSize:n}=(0,er.LH)();e&&((0,b.A9)("routeStart.customBufferSize",{count:r}),(0,b.A9)("routeStart.defaultBufferSize",{count:n}),o.current={time:e,action:i})}}return(0,l.jsx)(R.Z.Provider,{value:f?a:null,children:(0,l.jsx)(D.Z.Provider,{value:o.current,children:e})})}var es=r(638747),ed=r(472980),el=r(760101);function eu({children:e,traceLoggerData:t}){let r=(0,c.B)(),i=(0,n.k6)(),a=(0,n.TH)(),o=(0,C.Z)({requestContext:r,traceLoggerData:t});return(0,b.iF)(i.action),(0,l.jsx)(eo,{immutableLocation:a,resourceTimingCacheSize:400,routerHistoryAction:i.action,staticContext:o,children:e})}function ep({children:e,context:t,copytuneExperiments:r,inContextTranslation:n,requestContext:o,resourceCreator:s,traceLoggerData:d}){return(0,l.jsx)(i.E,{value:t,children:(0,l.jsx)(eu,{traceLoggerData:d,children:(0,l.jsx)(p,{children:(0,l.jsx)(h,{children:(0,l.jsx)(u,{children:(0,l.jsx)(T.ZP,{copytuneExperiments:r,enableInContextTranslation:n,locale:o.locale,children:(0,l.jsx)(y.nK,{children:(0,l.jsx)(P.g,{children:(0,l.jsx)(E,{children:(0,l.jsx)(el.G,{children:(0,l.jsx)(a.Ih,{children:(0,l.jsx)(ed.D,{children:(0,l.jsx)(es.UZ,{resourceCreator:s,children:e})})})})})})})})})})})})})}},191:(e,t,r)=>{let n;r.d(t,{Ch:()=>f,nc:()=>x,a:()=>S,ZP:()=>L,cA:()=>T,li:()=>C});var i=r(172045),a=r(453880),o=r(216167),s=r(324358),d=r(287434),l=r(525364),u=r(996523),p=r(96452),c=r(520893),m=r(953565);let h=new Set([6945,170,3700]),_=new Set([3700]),f={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpression",3704:"userImpressions"},v=[4700,4701,4702,4703,7042,7043],g=e=>(function(e){let t=e.length;for(let r=e.length-1;r>=0;r-=1){let n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t})(JSON.stringify(e)),w=e=>t=>t.view_type===e.viewType&&t.view_parameter===e.viewParameter&&t.event_type===e.eventType&&t.object_id_str===e.objectIdStr&&(0,c.Z)(t.view_data,e.viewData),P=e=>h.has(e),E=e=>!P(e)||P(e)&&_.has(e);function y(){let e=new Date;n?n&&n.getUTCDate()!==e.getUTCDate()&&(n=e,(0,s.Z)()):n=e}let T=e=>{let t=e.event_type,r=v.includes(t),n=(0,l.BE)();return!!r||13===t||!!n},C=(e,t)=>{let r=e.event_type,n=v.includes(r),i=(0,l.BE)();return n?e:13===r&&e.view_type?(t?.({viewType:e.view_type,viewParameter:e.view_parameter,viewData:i?.viewData?u.Z(i.viewData,e.view_data):e.view_data}),e):!i||e.view_type&&e.view_parameter?e:{...e,view_type:i.viewType||e.view_type,view_parameter:i.viewParameter,view_data:e.view_data?(0,u.Z)(e.view_data,i.viewData):i.viewData}},b=e=>{let t={};return e?.storyPinProductEventData&&(t={...t,storyPinProductEventData:e.storyPinProductEventData}),t},x=(e,t)=>{let{component:r}=e,n=e.object_id_str,i=e.view_type,a=e.event_type,{appState:o}=e;return(e.event_data?.[t]||[]).map(s=>({auxData:e.aux_data,...r?{component:r}:{},eventData:s,...a?{eventType:a}:{},...i?{viewType:i}:{},viewData:e.view_data,viewParameter:e.view_parameter,...n?{objectIdStr:n}:null,impressionType:t,...b(e.event_data),appState:o}))??[]},S=(e,t)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:t,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function L(){let e=[],t=[],r=0;function n(){return[...e,...t.reduce((e,t)=>{let r=e.find(w(t));if(r&&!P(t.eventType))t.impressionType in r.event_data?r.event_data[t.impressionType].push(t.eventData):r.event_data[t.impressionType]=[t.eventData];else{let r=t.storyPinProductEventData?{storyPinProductEventData:t.storyPinProductEventData}:{},n={appState:t.appState,aux_data:t.auxData||{},clientUUID:(0,i.Z)(),component:t.component,event_data:{...r,[t.impressionType]:E(t.eventType)?[t.eventData]:{...t.eventData,...(t.eventData||{})[t.impressionType]}},event_type:t.eventType,object_id_str:t.objectIdStr||void 0,time:(0,d.Z)(),view_data:t.viewData,view_parameter:t.viewParameter,view_type:t.viewType};e.push(n)}return e},[])]}function s(){e=[],t=[],r=0}async function l(){let e=n(),t=0,r=1e3;if(!e.length)return;let i=o.Z.create("ApiCResource",{events:e,report_time:(0,d.Z)()}),l=async()=>{try{await i.callCreate({async:!0,showError:!1})}catch(i){let n=!i?.api_error_code||[p.dO,p.cZ,p.i1].includes(i.api_error_code);if(!function({retryAttempts:e,error:t,events:r}){let n=(0,a.Z)(),i=n?.userAgent||{},o=!(i.isMobile||i.isTablet),s={error_code:t?.api_error_code||"unknown",retryAttempts:e,appType:o?"WEB_DENZEL":"WEB_MOBILE",country:n?.country||"unknown",browserName:i.browserName,eventSize:r.length,osName:i.osName,browserType:i.browserType,browserVersion:i.browserVersion};(0,m.nP)("metrics_quality_web_retry_error_log",{tags:s})}({retryAttempts:t,error:i,events:e}),n&&t<5){let e=r;t+=1,r*=2,setTimeout(l,e)}}};l(),s(),y()}function u(e=!1){let t=n();if(t.length){if(!e){l();return}o.Z.create("ApiCResource",{events:t,report_time:(0,d.Z)()}).callCreate({async:!e,showError:!1}),s(),y()}}return{flushContextEvents:u,getContextEvents:n,logContextEvent:function({object_id_str:t,...n}){let a=(0,d.Z)(),o={aux_data:{},event_data:{},view_data:{},...n,time:a,clientUUID:(0,i.Z)(),...t?{object_id_str:t}:null};o.aux_data=function(e){if(!e)return e;let{element:t,eventData:r,component:n,objectId:i,view:a,viewParameter:o,viewData:s,durationNs:d,pairId:l,clientTrackingParams:u,...p}=e;return p}(o.aux_data),r+g(o)>20480&&u(!1),e.push(o),y()},logImpression:function(e){r+g(e)>20480&&u(!1),t.push(e)},resetEventsBuffer:s,flushContextEventsV2:l}}},287434:(e,t,r)=>{r.d(t,{Z:()=>n});let n=()=>1e6*Date.now()},107981:(e,t,r)=>{r.d(t,{Z:()=>n});let n=(0,r(667294).createContext)(null)},95732:(e,t,r)=>{r.d(t,{Z:()=>n});let n=(0,r(667294).createContext)(null)},309300:(e,t,r)=>{r.d(t,{D3:()=>a,Hd:()=>d,jh:()=>s,rX:()=>o});var n=r(383340),i=r(302234);let a=e=>({...(0,n.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),o=()=>{let{largestContentfulPaint:e}=(0,i.v2)();return{largestContentfulPaint:e||0}},s=(e,t)=>Object.keys(t).reduce((r,n)=>({...r,[`${e}${n}`]:t[n]}),{}),d=(e,t)=>Object.keys(e).reduce((r,n)=>t.includes(n)?{...r,[n]:e[n]}:r,Object.freeze({}))},383340:(e,t,r)=>{r.d(t,{Z:()=>n});let n=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},840387:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(253926),i=r(383340),a=r(404373);let o=({category:e,isDeferred:t,isExternal:r})=>[e].concat(t?["deferred"]:[]).concat(r?["external"]:[]).join("_");function s(e,t){let{category:r,timing:s,isDeferred:d,isExternal:l,isVisuallyCompleteRequired:u}=e;return s.responseEnd&&("image"!==r||u)?{name:o(e),id:(0,a.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,i.Z)(s),binaryAnnotationMap:{category:(0,n.sk)(r),decodedBodySize:(0,n.cC)(s.decodedBodySize||0),initiatorType:(0,n.sk)(s.initiatorType),isDeferred:(0,n.qr)(d),isExternal:(0,n.qr)(l),name:(0,n.sk)(s.name),nextHopProtocol:(0,n.sk)(s.nextHopProtocol),transferSize:(0,n.cC)(s.transferSize||0)}}:null}},643778:(e,t,r)=>{r.d(t,{ku:()=>L,Jx:()=>b,PY:()=>S});var n=r(608029),i=r(297329),a=r(107860),o=r(309300),s=r(521525),d=r(819281),l=r(302234);let u=()=>(0,l.PJ)().reduce((e,{identifier:t,loadTime:r,renderTime:n})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:r,[`${t}_dupe_renderTime`]:n}:e:{...e,[`${t}_loadTime`]:r,[`${t}_renderTime`]:n},Object.freeze({}));var p=r(383340),c=r(146935),m=r(279600);let h=e=>{let t=(0,m.y0)();return e.reduce((e,{name:r,match:n})=>t.filter(e=>n(e)).slice(0,2).reduce((e,t,n)=>({...e,...(0,o.jh)(`${r}${n?"_dupe1":""}_`,(0,p.Z)(t))}),e),Object.freeze({}))},_=e=>{if("pin_closeup"===e){let e=(0,c.Z)();return h([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var f=r(793250),v=r(363404),g=r(840387),w=r(396596),P=r(59648),E=r(404373);let y=(0,n.XV)("LightStopwatch"),T=()=>{let e=[],t=null;return window.PerformanceObserver&&(t=(0,P.Z)({entryTypes:["resource"]},t=>{(e=e.concat(t.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{t&&t.disconnect()}}},C={},b=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:r,name:n,pwtStaticContext:l})=>{let p=T(),c=(0,w.Z)(l.fullPath),m=!0,h={...c?{pagePath:{value:c,type:"STRING"}}:{}};(0,i.A9)(`TIMING.${n}`,{tags:{isAuth:l.isAuthenticated}});let P={type:"stopwatch",name:n,navigationType:"initial_app_load"},b={abort:e=>{if(!m){(0,i.H)("duplicate_abort_action",{action:n});return}m=!1,(0,v.Z)({metricId:P,pwtStaticContext:l,result:{type:"ABORT",reason:e}})},error:(e,t)=>{let r={...t,action:n};if(!m){(0,i.H)("duplicate_error_action",r);return}e&&(0,i.H)(e,r),p&&p.disconnect(),m=!1},stop:c=>{if(!m){(0,i.H)("duplicate_stop_action",{action:n});return}m=!1,p.disconnect();let w=(0,E.Z)(),y=(0,d.Z)(),T=p.get(),C={type:"COMPLETE",traceId:(0,E.Z)(),startTime:0,endTime:c,spans:[{name:"network_resources",id:w,startTime:0,endTime:c,annotationMap:{},binaryAnnotationMap:{},parentId:null},...T.map(e=>(0,g.Z)((0,f.p)(e,[]),w)).filter(Boolean)],annotationMap:{...(0,o.jh)("resource_",r?_(r):{}),...(0,o.jh)("element_",u()),...(0,o.jh)("mark_",t&&t.length?(0,o.Hd)((0,a.gQ)(),t):{}),...(0,o.jh)("browser_",y?(0,o.D3)(y):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:P,pwtStaticContext:l,performanceResourceTimings:T,binaryAnnotations:h})};(0,v.Z)({metricId:P,pwtStaticContext:l,result:C,isAuth:l.isAuthenticated})},addBinaryAnnotation:(e,t,r)=>{y(`adding binary annotation {${e}: ${String(t)}}`),h={...h,[e]:{value:t,type:r}}}};return C[n]=b,b},x=e=>C[e],S=e=>!!x(e),L=({stopwatchName:e,binaryAnnotationName:t,value:r,annotationType:n})=>{let i=x(e);i&&i.addBinaryAnnotation(t,r,n)}},663678:(e,t,r)=>{r.d(t,{Z:()=>n});let n=e=>{let{deviceType:t,isBot:r,isSocialBot:n}=e;return`coreWebVitalsLite.v1.${n&&"socialBot"||r&&"bot"||"nonbot"}.${t}`}},146935:(e,t,r)=>{r.d(t,{Z:()=>i,f:()=>n});let n="closeupImage",i=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},839372:(e,t,r)=>{r.d(t,{w:()=>c});var n=r(287434),i=r(503325),a=r(623891),o=r(953565);function s(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let d=null,l={ACTIVE:"ACTIVE",PAUSED:"PAUSED"},u=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",p=e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}};function c({contextLogger:e}){if(d)return d;let t=new Map,r=(0,a.Z)()&&(0,a.Z)().debug_timespent,c=[],m=r?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};return console.group||(m.group=(...e)=>console.log(...e),m.groupEnd=(...e)=>{}),d=new class{constructor(){s(this,"appTimedPair",null),s(this,"clickthroughProperties",null),s(this,"historyStackContext",null),s(this,"offsiteTimedPair",null),s(this,"offsiteTimedPairForegroundId",null),s(this,"pins",Object.freeze({})),s(this,"addEventListeners",()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&document.addEventListener(t,t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()},!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",e=>this.unregisterApp(!1,void 0,e));let r=p(e=>this.unregisterApp(!0,void 0,e));window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r);let n=navigator&&navigator.userAgent.toLowerCase();n&&n.includes("macintosh")&&n.includes("chrome")&&window.addEventListener("popstate",()=>{document.hasFocus()||document[e]||(0,o.nP)("chrome_mac_back_forward_button",{sampleRate:1})})}),s(this,"storeClickthroughProperties",e=>{this.clickthroughProperties&&(0,o.nP)("webapp.metrics.clickthroughs.overwritten",{sampleRate:1,tags:{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}}),this.clickthroughProperties={time:(0,n.Z)(),...e}}),s(this,"clearClickthroughProperties",()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null}),s(this,"registerApp",()=>{m.group("App Foreground",u()),null==this.appTimedPair?(this.appTimedPair=new i.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&e.logContextEvent({event_type:4700,pair_id:this.appTimedPair.uuid})):m.error("TimedPair already exists for app."),m.groupEnd()}),s(this,"unregisterApp",(t=!1,r=!1,n)=>{m.group("App Background",u());let{appTimedPair:i}=this;if(null!=i){this._pauseAllComponents();let t=i.end();this._startOffsiteTimedPair(),e.logContextEvent({event_type:4701,duration_ns:t,pair_id:i.uuid}),this.appTimedPair=null}else m.error("No TimedPair found for app.");let a=["beforeunload","pagehide"],o=a.includes(n?.type),s=a.includes(n?.pauseReason);(o||s)&&this._endOffsiteTimedPair(),r||e.flushContextEvents(t??!1),m.groupEnd()}),s(this,"_activateComponent",t=>{m.group("Activating component",u()),r&&m.log(t.getContext());let n=t.getTimedPair();if(n){n.start();let{view:r,viewParameter:i,component:a,element:o,objectId:s,clientTrackingParams:d}=t.getLoggerContext();e.logContextEvent({event_type:4702,view_type:r,view_parameter:i,component:a,element:o,object_id_str:s,view_data:t.props.viewData,pair_id:n.uuid,clientTrackingParams:d,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:t.getParentId(),...t.props.auxData}})}m.groupEnd()}),s(this,"_deactivateComponent",t=>{m.group("Deactivating component",u()),r&&m.log(t.getContext());let n=t.getTimedPair();if(n){let{view:r,viewParameter:i,component:a,element:o,objectId:s,clientTrackingParams:d}=n,l=n.end();e.logContextEvent({event_type:4703,view_type:r,view_parameter:i,component:a,element:o,object_id_str:s,view_data:t.props.viewData,duration_ns:l,pair_id:n.uuid,clientTrackingParams:d,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:t.getParentId(),...t.props.auxData}})}m.groupEnd()}),s(this,"_startOffsiteTimedPair",()=>{let{clickthroughProperties:t}=this;t&&(this.offsiteTimedPair=new i.Z({...t,view:186,viewParameter:t.view_parameter,objectId:t.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,t.aux_data={...t.aux_data,time_to_offsite:void 0!==t.time&&null!==t.time&&"number"==typeof t.time?(0,n.Z)()-t.time:void 0},e.logContextEvent({...t,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}}))}),s(this,"_endOffsiteTimedPair",()=>{let{offsiteTimedPair:t,clickthroughProperties:r}=this;if(t&&r){let n=t.end();e.logContextEvent({...r,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...r.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:n}),this._onOffsiteEnd(),this.clearClickthroughProperties()}}),s(this,"_onOffsiteEnd",()=>{m.group("Trigger onOffsiteEndCallbacks"),c.forEach(e=>e({appTimedPair:this.appTimedPair,clickthroughProperties:this.clickthroughProperties,offsiteTimedPair:this.offsiteTimedPair,offsiteTimedPairForegroundId:this.offsiteTimedPairForegroundId})),m.groupEnd()}),s(this,"_pauseAllComponents",()=>{m.group("Pause all components"),t.forEach((e,t,r)=>{e===l.ACTIVE&&this._deactivateComponent(t),r.set(t,l.PAUSED)}),m.groupEnd()}),s(this,"_unpauseAllComponents",()=>{m.group("Unpause all components"),t.forEach((e,r)=>{let n=new i.Z(r.getLoggerContext());r.setTimedPair(n,()=>{t.set(r,l.ACTIVE),this._activateComponent(r)})}),m.groupEnd()})}setHistoryStackContext(e){this.historyStackContext=e}setPins(e){this.pins=e}registerComponent(e){null===this.appTimedPair?t.set(e,l.PAUSED):(t.set(e,l.ACTIVE),this._activateComponent(e))}unregisterComponent(e){t.get(e)===l.ACTIVE&&(this._deactivateComponent(e),e.setTimedPair(new i.Z(e.getLoggerContext()))),t.delete(e)}size(){return t.size}onOffsiteEnd(e){c.push(e)}removeOnOffsiteEnd(e){let t=c.indexOf(e);t>-1&&c.splice(t,1)}}}},760101:(e,t,r)=>{r.d(t,{G:()=>s,Z:()=>d});var n=r(667294),i=r(616550),a=r(785893);let o=(0,n.createContext)(!0);function s({children:e}){let t=(0,i.TH)(),[r,s]=(0,n.useState)(!0),d=(0,n.useRef)(t);return(0,n.useEffect)(()=>{d.current!==t&&(d.current=t,s(!1))},[t]),(0,a.jsx)(o.Provider,{value:r,children:e})}function d(){return(0,n.useContext)(o)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/52951-15c40894d86ef54f.mjs.map