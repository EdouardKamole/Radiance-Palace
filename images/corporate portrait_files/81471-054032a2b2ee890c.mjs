"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[81471,31076],{474729:(e,t,a)=>{a.d(t,{Z:()=>s,m:()=>o});var i=a(303059),r=a(879932);let o=["female","male","unknown"],s=e=>{let{interests:t,ages:a,genders:s,country:l}=e;return{AGE_BUCKET:a||[],APPTYPE:i.jz,GENDER:s||o,INTEREST:(t||[]).map(e=>e.topic_id),LOCATION:[...new Set((l||r.UF).split("+"))]}}},705318:(e,t,a)=>{a.d(t,{Z:()=>o});let i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let a=this._uidToData[e];a||(a=new i(e,t),this._uidToData[e]=a,this._numItems+=1),this._moveToFront(a),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let o=r},831076:(e,t,a)=>{a.d(t,{default:()=>s});var i=a(704666),r=a(702497),o=a(885896);function s(e,t,a){var s;let l;if(!i.Z[e])throw Error(`unknown url key: ${e}`);a||(a={});let n=i.Z[e](a),d=(l=null,(s=a)&&(l=s.advertiserId||null),!l&&t&&(l=t.id),l),c=!!a.absolutify;return"string"==typeof d&&(n="/advertiser/"+d+n),c&&(n=(0,o.Z)(n,void 0,r.KUo)),n}},850895:(e,t,a)=>{a.d(t,{Z:()=>o});var i=a(702497),r=a(139655);function o(e,t){let a="";if(e&&(a=e,t)){let o=(0,r.Z)(e,!0),s="/advertiser/",{hostname:l}=o;(null===l||l===i.KUo)&&(e.startsWith(i.auO)&&(e=e.replace(i.auO,"")),a=e.startsWith(s)?e:s+t+e)}return a}},619370:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var i=a(667294),r=a(883119),o=a(401429),s=a(785893);function l(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class n extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:a,idealDirection:i}=this.props,o=a.slice(-3);return(0,s.jsx)(r.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,s.jsxs)(r.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,s.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,s.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,s.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map(e=>(0,s.jsx)(r.xu,{height:60,paddingX:1,width:50,children:(0,s.jsx)(r.zd,{height:60,rounding:2,children:(0,s.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var d=a(76561);function c(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class h extends i.Component{constructor(...e){super(...e),c(this,"dismissRef",(0,i.createRef)()),c(this,"state",{paused:!1}),c(this,"dismissCb",()=>{this.dismissRef.current?.()}),c(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;this.timer&&clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,a){return(t&&e.text.replace("{boardName}",t),a)?a(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:a,boardTextOverride:l,flyoutSize:c,fontSize:h,hasFullWidthButton:_=!0,idealDirection:u,useMasonryFlyout:m,noClickToDismiss:b,onClickComplete:g,onClickDismiss:p,placementId:x,positionRelativeToAnchor:C,shouldSeeReturnToHomeFeedTooltipEdu:v=!1,shouldTimeoutDismiss:f,showCaret:E,textAlign:A,textOverflow:j,textOverrideFn:P,textWeight:y,customizedComplete:S,pulsarZIndex:I,advertiserId:w,dismissButtonLocation:z,dismissButtonColor:B,dismissButtonMarginTop:D}=this.props,T=t||(({children:e})=>m?(0,s.jsx)(r.mh,{children:e}):e);return(0,s.jsx)(o.Z,{eligibleIds:a,eligibleTypes:[8],placementId:x,targeting:w?{advertiserId:parseInt(w,10)}:null,children:({complete:t,dismiss:a,experience:o})=>{let{display_data:{scroll_to_dismiss:x,scroll_to_dismiss_delay_in_seconds:w=0,...k}}=o,O=x&&e,N=()=>{R(),this.timer||(this.timer=setTimeout(a,1e3*w))},R=()=>{O&&(window.removeEventListener("scroll",N),window.removeEventListener("touchmove",N))},F=()=>{R(),t()};if(O&&(window.addEventListener("scroll",N),window.addEventListener("touchmove",N)),this.setDefaultPulsarTooltip(k),!k.has_pulsar&&!k.has_tooltip)return F(),null;f&&k.disappearTime&&k.disappearTime>0&&(this.timer=setTimeout(()=>(N(),null),k.disappearTime));let Z=501041===o.experience_id||505086===o.experience_id;return k.has_tooltip&&!k.has_pulsar&&(this.dismissRef.current=N,e?.addEventListener("click",this.dismissCb)),(0,s.jsxs)(i.Fragment,{children:[k.has_pulsar&&(0,s.jsx)(d.Z,{anchor:e,leftOverride:Z?342:void 0,onTouch:()=>this.handlePulsarClick(k.has_tooltip,F),paused:this.state.paused,topOverride:Z?-5:void 0,zIndex:I&&I.index()}),k.has_tooltip&&(!k.has_pulsar||this.state.paused)&&(k.thumbnail_urls?(0,s.jsx)(n,{anchor:e,dismiss:N,idealDirection:u||"down",text:k.text,thumbnails:k.thumbnail_urls}):(0,s.jsx)(T,{children:(0,s.jsx)(r.J2,{_deprecatedShowCaret:E,anchor:e,color:"deprecatedBlue",idealDirection:u||"down",onDismiss:b?()=>{}:N,positionRelativeToAnchor:!m&&C,shouldFocus:!1,size:c,children:(0,s.jsxs)(r.xu,{column:12,paddingX:v?5:3,paddingY:3,children:[(0,s.jsxs)(r.xv,{align:"right"===A?"end":A,color:"inverse",overflow:j,size:h,weight:y||"bold",children:[this.getText(k,l,P),k.secondary_cta_link&&(0,s.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,s.jsx)(r.xv,{color:"inverse",size:h,weight:"bold",children:(0,s.jsx)(r.rU,{display:"inlineBlock",href:k.secondary_cta_link.url,target:"blank",underline:"hover",children:k.secondary_cta_link.text})})})]}),k.sub_text&&(0,s.jsx)(r.xu,{paddingY:2,children:(0,s.jsx)(r.xv,{color:"inverse",size:h,children:k.sub_text})}),(k.dismiss_button_text||k.complete_button_text)&&(0,s.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:z||"start",marginTop:D||2,children:[k.dismiss_button_text&&(0,s.jsx)(r.xu,{column:6,marginEnd:1,children:(0,s.jsx)(r.zx,{color:B||"blue",fullWidth:_,onClick:()=>{p&&p(),N()},size:"md",text:k.dismiss_button_text})}),k.complete_button_text&&(0,s.jsx)(r.xu,{column:k.dismiss_button_text?6:12,children:S?(0,s.jsx)(r.iP,{fullHeight:!0,onTap:()=>{F(),g&&g()},rounding:2,children:(0,s.jsx)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,s.jsx)(r.xv,{color:"shopping",weight:"bold",children:k.complete_button_text})})}):(0,s.jsxs)(r.kC,{justifyContent:"center",children:[k.complete_button_cta_url&&(0,s.jsx)(r.ZP,{color:"white",fullWidth:_,href:k.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),F(),g&&g()},size:"md",target:k.complete_button_cta_url?"blank":null,text:k.complete_button_text}),!k.complete_button_cta_url&&(0,s.jsx)(r.zx,{color:"white",fullWidth:_,onClick:()=>{F(),g&&g()},size:"md",text:k.complete_button_text})]})})]})]})})}))]})}})}}c(h,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},137023:(e,t,a)=>{a.d(t,{Z:()=>o});var i=a(667294),r=a(124946);function o({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:a,resourceName:o,resourceOptions:s,value:l}){let n=(0,r.Z)({allowSearchOnMount:e,resourceName:o,resourceOptions:s,value:l});return(0,i.useEffect)(()=>{n?.length&&a(n)},[n]),t||null}},124946:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(667294),r=a(705318),o=a(638747);function s({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:a={},value:s}){let l=(0,i.useRef)(!1),n=(0,i.useRef)({}),[d,c]=(0,i.useState)([]),h=function({resourceName:e,resourceOptions:t}){let a=(0,o.vL)(),s=(0,i.useRef)();return s.current||(s.current=function({resourceCreator:e,resourceName:t,resourceOptions:a}){let i=e(t,{...a,count:"count"in a?a.count:5}),o=new r.Z,s=()=>{i.abort()},l=async(e,t)=>{if(i.isCalling()){let a=i.options?.term,r=i.options?.pin_scope;if(e===a&&t===r)return;s()}let{bookmarks:a,...r}=i.options||{};i.options={...r,term:e,pin_scope:t};let{data:l}=(await i.callGet({showError:!1})).resource_response,n=l?.items,d=l?.hint||{};return o.set(`${t}-${e}`,{hint:d,items:n}),{term:e,items:n,hint:d}};return async function(e,t){let a=o.get(`${t}-${e}`);if(a){let{items:t}=a;if(t&&t.length){s();let{hint:i}=a;return{hint:i,items:t,term:e}}}return e.length>=0?l(e,t):{hint:{},items:[],term:e}}}({resourceCreator:a,resourceName:e,resourceOptions:t})),s.current}({resourceName:t,resourceOptions:a}),_=a.pin_scope||"pins",u=`${_}-${s}`;return(0,i.useEffect)(()=>{(async()=>{if(null!=s&&""!==s&&(e||l.current)){if(u in n.current)c(n.current[u]);else try{let e=await h(s,_);if(e){let{items:t}=e;n.current[u]=t,c(t)}}catch(e){if("Resource call aborted"===e)return;throw e}}l.current||(l.current=!0)})()},[s,_,u]),d}},550124:(e,t,a)=>{a.d(t,{Z:()=>o});var i=a(554786),r=a(84768);function o(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;default:return"phone"===e||"tablet"===e?1:0}}({deviceType:(0,i.ZP)(),site:(0,r.uo)()})}},675266:(e,t,a)=>{a.d(t,{Z:()=>r});let i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,r=e=>i.test(e)},202593:(e,t,a)=>{a.d(t,{Z:()=>o});var i=a(850895),r=a(702497);function o({advertiser:e,isAdsSite:t,isAnalyticsSite:a,isTrendsSite:o,baseUrl:s,adsUrl:l,isQuickPromote:n,isShoppingCatalogs:d}){if(t&&!e&&!n)return"/";let c=s;return(t||a||o)&&!d?(l||(l=s),e?(c=(0,i.Z)(l,e.id),t||(c=r.auO+c)):c=t?l:r.auO+c):d?c=r.auO+(0,i.Z)(s,e?e.id:""):l||(c=r.auO+s),c}},198705:(e,t,a)=>{a.d(t,{Z:()=>d});var i=a(340523),r=a(5859),o=a(550124),s=a(446653),l=a(785059),n=a(854560);let d=function(){let e=(0,i.F)().checkExperiment("web_m10n_orbac_in_create_flow").anyEnabled,{advertiser:t}=(0,r.B)(),{isSterlingSite:a}=(0,n.O9)((0,o.Z)()),d=(0,l.Z)(),c=(s.K()?.profiles||[]).find(e=>e?.id===t?.owner_user_id);return e&&a&&c||d}},35222:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(149722),r=a(785059),o=a(199677);let s=()=>{let e=(0,i.Z)(),t=(0,r.Z)();return(0,o.lJ)(e,t)}},854560:(e,t,a)=>{a.d(t,{uB:()=>x,re:()=>C,Xc:()=>E,NH:()=>f,Mz:()=>v,Mj:()=>D,LZ:()=>w,Lu:()=>I,es:()=>z,i5:()=>F,xV:()=>O,d5:()=>y,if:()=>L,xQ:()=>P,O9:()=>A,bq:()=>N,HH:()=>R,Ti:()=>T,cG:()=>j,Hw:()=>B,YA:()=>M,HC:()=>k,Y8:()=>Z,$n:()=>U});var i=a(453880),r=a(474729),o=a(879932);let s=({values:e,pin:t,productGroup:a,country:i})=>{let{name:s,destination_url:l,budget:n,duration:d,inclusive_end_date:c,is_ongoing:h,advertiser_id:_,ages:u,interests:m,genders:b,ad_type:g,selected_ocpm_tag:p,isAutoTargeting:x}=e,C=Math.round(n*o.Az),v=(0,r.Z)({ages:u,interests:m,genders:b,country:i}),f={};g===o.Hl.WEB_CONVERSION&&(f.objective_type=o.Hl.WEB_CONVERSION,f.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:p.conversionTagId,conversion_event:p.conversionEvent}});let E={budget_in_micro_currency:C,campaign_name:s&&s.length<64?s:`${(s||"").substr(0,62)}…`,destination_url:t?l:null,duration:parseInt(d,10),auto_targeting_enabled:x,is_ongoing:h,start_now:!0,targeting_spec:v,advertiser_id:_,ads_client_type:"quick_promote",pin_id:t?t.id:null,product_group_id:a?a.id:null,...f,flexible_daily_budget_enabled:!1};return!h&&c&&c.trim().length>0&&(E.inclusive_end_date=c),E};var l=a(224796),n=a(831076),d=a(976731),c=a(372085),h=a(232076),_=a(731714),u=a(702497),m=a(624797),b=a(598228),g=a(202593),p=a(953565);let x=472,C=364,v={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},f={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},E={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page",BIZ_HUB_TOP_CAROUSEL_SECTION:"biz_hub_top_carousel_section"},A=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e}),j=e=>{let{isAnalyticsSite:t=!1,isSterlingSite:a=!1,isWwwSite:i=!1,loggingType:r}=e,o="";t?o=".analytics":i?o=".www":a&&(o=".ads"),(0,p.nP)(`sterling.quick_promote.page${o}.${r}`,{sampleRate:1})},P=e=>e?o.vX.indexOf(e):-1,y=e=>{if(null!=e&&!(e<0)&&!(e>o.vX.length-1))return o.vX[e]},S=e=>e===o.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===o.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223},I=(e,t)=>{let{component:a,element:i}=S(y(e));t({event_type:101,component:a,element:i,aux_data:{page:"GestaltQuickPromote"}})},w=(e,t)=>{let a=y(e),{component:i}=S(a);a===o.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):a===o.Gl.SUCCESS_MODAL&&t({event_type:6358,component:i,aux_data:{page:"GestaltQuickPromote"}})},z=(e,t)=>{let a=[...new Set(e?.split("+"))];return t&&a.filter(e=>e in t)},B=(e,t)=>{if(!t||!e)return"";let a=`https://${u.KUo}`,i=`?campaign_id=${t.campaign_id}&objective_type=CLICKTHROUGH&is_quick_promote=true`;return`${a}/advertiser/${e}/billing/${i}`},D=(e,t)=>{if(!e)return"";let{ad_group_id:a=""}=e,i=(0,n.default)("adgroup",t,{id:a,showAllEntities:!0});return(0,g.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:i,adsUrl:null,isQuickPromote:!0})},T=e=>({hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}),k=async e=>{let{pin:t,productGroup:a,country:i,onSaveSuccess:r,onSaveFailed:o,quickPromoteFormValues:l,advertiserId:n}=e;if(!t&&a)return;let h=`/ads/v4/advertisers/${n}/pins/${t?.id||""}/quick_promote/`;try{let{resource_response:e}=await (0,c.Z)({url:h,method:"POST",data:s({values:l,pin:t,productGroup:a,country:i})});e.data&&r(e.data)}catch(a){let e=(0,d.Z)(a,"httpStatus"),t=(0,d.Z)(a,"message_detail");o(t?{area:401===e?"pin":"modal",message:t}:{area:"modal"})}},O=e=>{let{hasValidBillingProfile:t,hasBusinessAddress:a,hasBillingInfo:i,hasBusinessInfo:r,serverErrorArea:s,stepIndex:l,isQuickPromotePage:n=!1}=e,{hasValidBusinessInfo:d,hasValidBillingInfo:c}=T({hasValidBillingProfile:t,hasBusinessAddress:a,hasBillingInfo:i,hasBusinessInfo:r}),h=[void 0,null].includes(l)?0:l+1;return y(l)!==o.hf||(s?h="modal"===s?P(o.Gl.ERROR_MODAL):l:d&&c?h=P(o.Gl.SUCCESS_MODAL):d?h=P(o.Gl.BILLING_FORM):n||(h=P(o.Gl.BUSINESS_FORM))),h>o.vX.length-1?void 0:h},N=e=>{let t=o.Pq.WIDE;return e<870?t=o.Pq.NARROW:e>=870&&e<=1275&&(t=o.Pq.MEDIUM),t},R=(e,t,a)=>{let{crossSite:r}=(0,m.mB)(e.search);if(i.Z()?.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled&&t.length<=1){window.close();return}window?[...Array(a.find(e=>e&&e.location&&e.location.pathname.includes("pin-builder"))?3:1)].forEach(()=>r?window.history.back():t.goBack()):t.goBack()},F=e=>{switch(e){case 4:return b.YD;case 3:return u.KUo;case 0:return b.Vi;default:return null}},Z=(e,t,a)=>{_.Z.setItem(l.hM,{..._.Z.getItem(l.hM),[`${t}.${e}`]:{pin:a.pin,dailyBudget:a.dailyBudget,destinationUrl:a.destinationUrl,duration:a.duration,locale:a.locale,name:a.name,interests:a.interests,ages:a.ages,genders:a.genders,adType:a.adType}})},L=(e,t)=>{if(!e||!t)return null;{let a=`${t}.${e}`,i=_.Z.getItem(l.hM);if(null===i)return null;let r=i[a];return(0,h.Z)(r)?null:r}},M=(e,t)=>{if(e&&t){let a=`${t}.${e}`,i=_.Z.getItem(l.hM);null!==i&&(delete i[a],0===Object.keys(i).length?_.Z.removeItem(l.hM):_.Z.setItem(l.hM,i))}};function U(e,t){let a=[...e],i=a.indexOf(t);return i>-1?a.splice(i,1):a.push(t),a}},955367:(e,t,a)=>{a.d(t,{Z:()=>x});var i=a(667294),r=a(545007),o=a(883119),s=a(481177),l=a(140017),n=a(340523),d=a(149722),c=a(198705),h=a(199677),_=a(796122),u=a(823813),m=a(112544),b=a(785893);function g(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends i.Component{constructor(...e){super(...e),g(this,"handleSubmit",e=>{let{advertiserId:t,boardCreateSource:a,createBoard:i,onBoardCreate:r,viewer:o,orbacActingAs:s,shouldShowAddCollaborators:l,handleInviteSelectedCollaborators:n}=this.props,d=(0,h.lJ)(o,s),{name:c,description:_,privacy:u,collab_board_email:m,collaborator_invites_enabled:b}=e;return i({boardCreateOptions:{name:c,description:_,privacy:u,collab_board_email:m,collaborator_invites_enabled:b,aux_data:{source:a},...t?{advertiser_id:t}:{},...d?{orbac_subject_id:d}:Object.freeze({})}}).then(e=>{l&&n(e.id),r(e)})}),g(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,h.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}render(){let{advertiserId:e,isAdAccountOwner:t,onClose:a,privacy:i,useModalWithNoLayer:r,showSecretBoardCreateToggle:l,shouldShowAddCollaborators:n,setSelectedContacts:d,selectedContacts:c,orbacActingAs:u,viewer:m}=this.props,g=(0,h.lJ)(m,u);return(0,b.jsx)(_.Z,{board:{...this.emptyBoardData,privacy:t?i:s.Z.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,isProfilePublisher:!!g,onClose:a,onSubmit:this.handleSubmit,selectedContacts:c,setSelectedContacts:d,shouldShowAddCollaborators:n,showSecretBoardCreateToggle:l,submitText:this.props.i18n._('Create', ' - ', ' -- '),title:(0,b.jsx)(o.xu,{paddingY:8,width:"100%",children:(0,b.jsx)(o.X6,{align:"center",size:"500",children:this.props.i18n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading')})}),useModalWithNoLayer:r})}}function x(e){let t=(0,m.Z)(),a=(0,l.ZP)(),o=(0,d.Z)(),s=(0,r.v9)(({advertiser:e})=>e?e.id:void 0),h=(0,c.Z)(),_=(0,r.v9)(({advertiser:e})=>!e||o.isAuth&&e.owner_user_id===o.id),g=(0,u.zC)(),x=(0,u.DK)(),{checkExperiment:C}=(0,n.F)(),v=e.isBoardCreateFromProfile&&C("sg_dweb_create_board_add_collaborators_profile").anyEnabled,[f,E]=(0,i.useState)([]);return(0,b.jsx)(p,{...e,advertiserId:s,createBoard:t,dispatch:(0,r.I0)(),handleInviteSelectedCollaborators:e=>{let t=f.filter(e=>"email"===e.type||"email_share_suggestion"===e.type),a=f.filter(e=>"user"===e.type||"user_share_suggestion"===e.type);a.length>0&&x(e,a.map(e=>e.id)),t.length>0&&g(e,t.map(e=>e.id))},i18n:a,isAdAccountOwner:_,orbacActingAs:h,selectedContacts:f,setSelectedContacts:E,shouldShowAddCollaborators:v,viewer:o})}g(p,"defaultProps",{privacy:s.Z.BoardPrivacy.PUBLIC})},796122:(e,t,a)=>{a.d(t,{Z:()=>V});var i=a(667294),r=a(883119),o=a(481177),s=a(930837),l=a(140017),n=a(339001),d=a(5859),c=a(14583),h=a(427514),_=a(13848),u=a(554786),m=a(747602),b=a(168477),g=a(205841),p=a(340523),x=a(757640),C=a(137023),v=a(675266),f=a(785893);function E({selectedContacts:e=[],setSelectedContacts:t}){let a=(0,l.ZP)(),{checkExperiment:o}=(0,p.F)(),{group:s}=o("sg_dweb_create_board_add_collaborators_profile"),{data:n}=(0,x.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[d,c]=(0,i.useState)([]);(0,i.useEffect)(()=>{n&&"enabled_default_suggestions"===s&&c(n.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[n,s]);let[h,_]=(0,i.useState)(""),u=e.map(e=>e.id),m=[...e,(0,v.Z)(h)&&!u.includes(h)?{id:h,type:"email"}:null,...d.filter(e=>!u.includes(e.id))].filter(Boolean),b=a=>{u.includes(a.id)?t?.((e||[]).filter(e=>e.id!==a.id)):t?.([...e,a])};return(0,f.jsxs)(r.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,f.jsx)(r.xu,{paddingY:2,children:(0,f.jsx)(r.xv,{size:"100",children:a._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,f.jsx)(r.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,f.jsx)(r.xu,{children:(0,f.jsx)(C.Z,{onTypeaheadSuggestionsChange:e=>{c(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:h,children:(0,f.jsx)(r.Um,{accessibilityLabel:a._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{_(e)},placeholder:a._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:h})})})}),(0,f.jsx)(r.xu,{overflow:"scrollY",children:m.map(e=>(0,f.jsxs)(r.xu,{display:"flex",paddingY:2,children:[(0,f.jsxs)(r.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,f.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,f.jsx)(r.JO,{accessibilityLabel:a._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,f.jsx)(r.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,f.jsx)(g.qE,{name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,f.jsx)(r.kC,{alignItems:"center",children:(0,f.jsx)(r.xu,{children:(0,f.jsx)(r.xv,{size:"300",children:e.id})})}):(0,f.jsxs)(r.kC,{direction:"column",justifyContent:"center",children:[(0,f.jsx)(r.xu,{marginBottom:1,tabIndex:0,children:(0,f.jsx)(r.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,f.jsx)(r.xu,{tabIndex:0,children:(0,f.jsx)(r.xv,{size:"200",children:`@${e.username||""}`})})]})]}),(0,f.jsx)(r.kC,{flex:"none",children:(0,f.jsx)(r.zx,{onClick:()=>b(e),selected:u.includes(e.id),size:"lg",text:u.includes(e.id)?a._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):a._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]},e.id))})]})}var A=a(14774);let j=({label:e,labelId:t})=>t?(0,f.jsx)(r.__,{htmlFor:t,children:(0,f.jsx)(r.xv,{size:"100",children:e})}):(0,f.jsx)(r.xv,{size:"100",children:e});function P(e){let{children:t,label:a,labelId:o}=e;return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(r.xu,{marginBottom:2,children:(0,f.jsx)(j,{label:a,labelId:o})}),t]})}function y({coverPin:e,handleShowBoardCoverEditModal:t}){let a=(0,l.ZP)(),[o,s]=(0,i.useState)(!1),{isRTL:n}=(0,d.B)();return(0,f.jsx)(P,{label:a._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,f.jsx)(r.xu,{position:"relative",width:138,children:(0,f.jsx)(r.iP,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:t,rounding:4,children:e?.custom_cover?(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(r.zd,{height:138,rounding:4,width:138,children:(0,f.jsx)(r.Ee,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||138,naturalWidth:e.size&&e.size[0]||138,src:e.image_url})}),(0,f.jsx)(r.xu,{bottom:!0,left:n,padding:2,position:"absolute",right:!n,children:(0,f.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:o?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,f.jsx)(r.JO,{accessibilityLabel:a._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,f.jsx)(r.xu,{alignItems:"center",color:o?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,f.jsx)(r.JO,{accessibilityLabel:a._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function S({children:e,label:t,labelId:a,subtext:o}){return(0,f.jsx)(i.Fragment,{children:(0,f.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,f.jsx)(r.xu,{marginStart:2,children:(0,f.jsxs)(r.__,{htmlFor:a,children:[(0,f.jsx)(r.xv,{size:"300",weight:"bold",children:t}),o]})})]})})}function I({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:a}){let i=(0,l.ZP)();return t&&(0,f.jsx)(S,{label:i._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,f.jsx)(r.xv,{color:"subtle",size:"300",children:i._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,f.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(r.xu,{marginEnd:1,children:(0,f.jsx)(r.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:a})})})})}var w=a(274262),z=a(847754);function B({board:e,onCollaboratorInviteClick:t}){let a=(0,l.ZP)(),i=(0,z.Z)({boardId:e.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),o=i.slice(0,3).map(e=>e.name),s="";switch(i.length){case 3:s=(0,n.Wc)(`${a._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${o[0]}`,second:`${o[1]}`,last:`${o[2]}`});break;case 2:s=(0,n.Wc)(`${a._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${o[0]}`,second:`${o[1]}`});break;default:s=o.join(", ")}let d=i.length>3?(0,n.Wc)(a.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', i.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:s,leftCount:`${i.length-3}`}):(0,n.Wc)(`${a._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:s});return(0,f.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,f.jsx)(r.HE,{accessibilityLabel:d,collaborators:i.map(({name:e,src:t})=>({src:t?.endsWith("/default_75.png")?void 0:t,name:e})),size:"md"}),(0,f.jsx)(r.hU,{accessibilityLabel:a._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}function D({board:e,onCollaboratorInviteClick:t}){let a=(0,l.ZP)(),i=(0,f.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,f.jsx)(r.xv,{inline:!0,size:"100",children:a._('Collaborators', ' - ', ' -- ')}),(0,f.jsx)(w.Z,{}),(0,f.jsx)(r.xv,{inline:!0,size:"100",weight:"bold",children:(0,f.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:a._('Learn more', ' - ', ' -- ')})})]});return(0,f.jsx)(P,{label:i,labelId:"collaborators",children:(0,f.jsx)(B,{board:e,onCollaboratorInviteClick:t})})}function T({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:a}){let i=(0,l.ZP)();return t&&(0,f.jsx)(S,{label:i._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,f.jsx)(r.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:a})})}function k({description:e,descriptionValidatorErrors:t,onChange:a}){let i=(0,l.ZP)(),o="boardEditDescription";return(0,f.jsx)(P,{label:i._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:o,children:(0,f.jsx)(r.Kx,{errorMessage:t.join(", "),id:o,name:"description",onChange:a,placeholder:i._('What\'s your board about?', ' - ', ' -- '),value:e})})}let O=({children:e})=>(0,f.jsx)(r.xu,{paddingX:8,role:"list",children:i.Children.map(e,(t,a)=>t&&(0,f.jsx)(r.xu,{marginBottom:a===i.Children.count(e)-1?1:8,role:"listitem",children:t},a))});function N({name:e,nameValidatorErrors:t,onChange:a,disabled:i}){let o=(0,l.ZP)();return(0,f.jsx)(P,{label:o._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,f.jsx)(r.nv,{disabled:i,errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:a,placeholder:o._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}let R=({board:e,collabBoardEmail:t,collaboratorInvitesEnabled:a,coverPin:i,currentUserIsOwner:o,description:s,descriptionValidatorErrors:n,handleBoardLeave:d,isCollaborative:c,showCoverEdit:h,name:_,nameValidatorErrors:u,handleShowBoardCoverEditModal:m,handleChangeName:b,handleChangeDescription:g,handleShowCollaboratorsModal:p,handleChangeCollabBoardEmail:x,handleChangeCollaboratorInvitesEnabled:C})=>{let v=(0,l.ZP)();return(0,f.jsxs)(O,{children:[h&&(0,f.jsx)(y,{coverPin:i,handleShowBoardCoverEditModal:m}),(0,f.jsx)(N,{disabled:!0,name:_,nameValidatorErrors:u,onChange:b}),(0,f.jsx)(k,{description:s,descriptionValidatorErrors:n,onChange:g}),o&&!!d&&(0,f.jsx)(D,{board:e,onCollaboratorInviteClick:p}),c&&(0,f.jsx)(r.xu,{marginBottom:-7,children:(0,f.jsx)(r.xv,{size:"100",children:v._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,f.jsx)(I,{hasCollabBoardEmail:t,isCollaborative:c,onCheckboxChange:x}),(0,f.jsx)(T,{collaboratorInvitesEnabled:a,isCollaborative:c,onCheckboxChange:C})]})};function F({isProtectedToggler:e,isToggleDisable:t,onChange:a,onCheckboxChange:s,privacy:n}){let d=(0,l.ZP)();if(!0===e)return(0,f.jsx)(S,{label:d._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,f.jsx)(r.xu,{paddingY:2,children:(0,f.jsx)(r.rs,{disabled:t,id:"protected",onChange:a,switched:n===o.Z.BoardPrivacy.PROTECTED})})});if(n!==o.Z.BoardPrivacy.PROTECTED){let e=d._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),a=(0,f.jsx)(i.Fragment,{children:(0,f.jsxs)(r.xv,{color:"subtle",size:"300",children:[d._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,f.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:d._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,f.jsx)(S,{label:e,labelId:"secret",subtext:a,children:(0,f.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(r.XZ,{checked:n===o.Z.BoardPrivacy.SECRET,disabled:t,id:"secret",name:"secret",onChange:s})})})}return null}function Z({allowHomefeedRecommendations:e,onCheckboxChange:t}){let a=(0,l.ZP)();return(0,f.jsx)(S,{label:a._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,f.jsx)(r.xv,{color:"subtle",size:"300",children:a._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,f.jsx)(r.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function L(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let M=(0,i.lazy)(()=>Promise.all([a.e(97270),a.e(46975)]).then(a.bind(a,732420))),U=(0,i.lazy)(()=>Promise.all([a.e(87348),a.e(79007),a.e(19373),a.e(72090)]).then(a.bind(a,219373))),G=(e,t)=>(0,m.Gy)({max:e,maxErrorString:(0,h.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),H=e=>[G(o.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],$=e=>[(0,m.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),G(o.Z.MAX_CHARS_FOR_BOARD_TITLE,e)],W=({condition:e,children:t})=>e?(0,f.jsx)(r.xu,{position:"absolute",zIndex:s.b7,children:t}):t;class X extends i.Component{constructor(e){super(e),L(this,"handleChangeName",({value:e})=>{let t=(0,m.FU)($(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})}),L(this,"handleChangeDescription",({value:e})=>{let t=(0,m.FU)(H(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})}),L(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),L(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),L(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),L(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),L(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),L(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),L(this,"handleCheckboxChange",e=>({event:t,checked:a})=>e({event:t,value:a})),L(this,"handleSubmit",e=>{let{onSubmit:t}=this.props,{collab_board_email:a,collaboratorInvitesEnabled:i,description:r,name:o,privacy:s,allowHomefeedRecommendations:l}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let n=o.trim(),d=r.trim();this.setState({submitting:!0,submitError:""}),t({name:n,collab_board_email:a,collaborator_invites_enabled:i,description:d,privacy:s,allow_homefeed_recommendations:l}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){let{message:a,message_detail:i}=e;t=i?`${a} ${i}`:a}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})})}),L(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),L(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),L(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),L(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),L(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:t}=this.props;t&&t(e)});let{board:{collab_board_email:t,collaborator_invites_enabled:a,description:i,name:r,pin_count:o,privacy:s,allow_homefeed_recommendations:l}}=e;this.state={collab_board_email:t,description:i,name:r,pin_count:o,privacy:s,allowHomefeedRecommendations:l,collaboratorInvitesEnabled:a,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:r,previousDescription:i,previousPrivacy:s}}static getDerivedStateFromProps(e,t){let a={};return e.board.name&&e.board.name!==t.previousName&&(a.previousName=e.board.name,a.nameValidatorErrors=(0,m.FU)($(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(a.previousDescription=e.board.description,a.descriptionValidatorErrors=(0,m.FU)(H(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(a.previousPrivacy=e.board.privacy),a}getFormFooter(){let{submitText:e}=this.props,{submitError:t}=this.state;return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(r.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,f.jsx)(r.xu,{children:(0,f.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,f.jsx)(r.xu,{height:48,children:(0,f.jsx)(r.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,f.jsx)(r.xu,{"aria-live":"polite",paddingX:1,tabIndex:"0",children:(0,f.jsx)(r.xv,{color:"error",children:t})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:t,nameValidatorErrors:a,submitting:i}=this.state;return!t||a.length>0||e.length>0||i}render(){let{board:e,board:{archived_by_me_at:t,cover_pin:a,id:o,is_collaborative:l},coverImageHeight:d,coverImageWidth:h,currentUserIsOwner:_,handleBoardLeave:u,isAdAccount:m,isAdAccountOwner:g,isDeletable:p,isDesktop:x,isEditable:C,isNameAndSecretView:v,onClose:j,onDeleteButtonClick:P,requestContext:S,title:w,useModalWithNoLayer:z,showSecretBoardCreateToggle:B,shouldShowAddCollaborators:L,setSelectedContacts:G,selectedContacts:H,isProfilePublisher:$}=this.props,{allowHomefeedRecommendations:X,collab_board_email:V,collaboratorInvitesEnabled:K,description:Y,descriptionValidatorErrors:q,name:Q,nameValidatorErrors:J,pin_count:ee,privacy:et,showBoardCoverEdit:ea,showCollaboratorsModal:ei,showSecretConfirmation:er}=this.state,eo=C&&ee>0,es=e.is_ads_only,el=(0,f.jsxs)(O,{children:[eo&&(0,f.jsx)(y,{coverPin:a,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,f.jsx)(N,{disabled:es,name:Q,nameValidatorErrors:J,onChange:this.handleChangeName}),(0,f.jsx)(k,{description:Y,descriptionValidatorErrors:q,onChange:this.handleChangeDescription}),_&&!!u&&(0,f.jsx)(D,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,f.jsx)(r.xu,{marginBottom:-7,children:(0,f.jsx)(r.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,f.jsx)(F,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g&&!$,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),!t&&(0,f.jsx)(Z,{allowHomefeedRecommendations:X,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,f.jsx)(I,{hasCollabBoardEmail:V,isCollaborative:l,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,f.jsx)(T,{collaboratorInvitesEnabled:K,isCollaborative:l,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),p&&(0,f.jsxs)(r.xu,{marginTop:-6,paddingY:4,children:[(0,f.jsx)(r.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,f.jsxs)(r.iP,{onTap:P,children:[(0,f.jsx)(r.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,f.jsx)(r.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,f.jsx)(r.xv,{color:"subtle",size:"300",children:(0,n.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:b.Xq})})]})]})]});_?v&&(el=(0,f.jsxs)(O,{children:[(0,f.jsx)(N,{disabled:es,name:Q,nameValidatorErrors:J,onChange:this.handleChangeName}),!B&&(0,f.jsx)(F,{isProtectedToggler:!!m,isToggleDisable:!!m&&!g&&!$,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),L&&(0,f.jsx)(E,{selectedContacts:H,setSelectedContacts:G})]})):el=(0,f.jsxs)(O,{children:[!!u&&(0,f.jsx)(D,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,f.jsx)(I,{hasCollabBoardEmail:V,isCollaborative:l,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&es&&(0,f.jsx)(Z,{allowHomefeedRecommendations:X,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,f.jsx)(r.xv,{color:"subtle",size:"300",children:(0,n.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,f.jsx)(r.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let en=z?r.u_:s.ZP,ed=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),ec=(0,f.jsxs)(r.xu,{paddingY:8,position:"relative",children:[(0,f.jsx)(r.X6,{align:"center",size:"500",children:ed}),(0,f.jsx)(r.xu,{left:S.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!S.isRTL,top:!0,children:(0,f.jsx)(r.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(W,{condition:!!z,children:!ea&&!ei&&(0,f.jsx)(en,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),footer:this.getFormFooter(),heading:w,onDismiss:j,size:"sm",children:(0,f.jsx)(r.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,f.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!es&&el,es&&(0,f.jsx)(R,{board:e,collabBoardEmail:V,collaboratorInvitesEnabled:K,coverPin:a,currentUserIsOwner:_,description:Y,descriptionValidatorErrors:q,handleBoardLeave:u,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:l,name:Q,nameValidatorErrors:J,showCoverEdit:eo})]})})})}),ea&&x&&(0,f.jsx)(c.Z,{children:(0,f.jsx)(M,{boardId:o,boardName:Q,coverPinId:a?.pin_id,frameHeight:d,frameWidth:h,heading:ec,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),er&&(0,f.jsx)(A.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),ei&&(0,f.jsx)(c.Z,{children:(0,f.jsx)(U,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}function V(e){let t=(0,l.ZP)(),a=(0,u.ZP)();return(0,f.jsx)(X,{...e,i18n:t,isDesktop:"desktop"===a,requestContext:(0,d.B)(),toastManagerContext:(0,_.F9)()})}L(X,"defaultProps",{isNameAndSecretView:!1})},14774:(e,t,a)=>{a.d(t,{Z:()=>l});var i=a(883119),r=a(930837),o=a(140017),s=a(785893);function l({cancelButtonLabel:e,confirmButtonLabel:t,heading:a,message:l,onCancel:n,onConfirm:d}){let c=(0,o.ZP)(),h=a||c._('Are you sure?', ' - ', ' -- '),_=e||c._('Cancel', ' - ', ' -- ');return(0,s.jsx)(r.ZP,{accessibilityModalLabel:h,footer:(0,s.jsxs)(i.xu,{marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(i.xu,{"data-test-id":"cancel-button",padding:1,children:(0,s.jsx)(i.zx,{fullWidth:!0,onClick:n,size:"lg",text:_})}),(0,s.jsx)(i.xu,{"data-test-id":"confirm-button",padding:1,children:(0,s.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:t})})]}),heading:h,onDismiss:n,role:"alertdialog",children:(0,s.jsx)(i.xu,{padding:4,children:(0,s.jsx)(i.xv,{children:l})})})}},879932:(e,t,a)=>{a.d(t,{Az:()=>p,DI:()=>f,Gl:()=>j,Hl:()=>B,NA:()=>i,NG:()=>d,OC:()=>w,Pq:()=>S,QM:()=>m,Sk:()=>A,UF:()=>C,Uo:()=>I,WF:()=>l,Xm:()=>c,Zf:()=>o,_N:()=>u,ac:()=>s,dt:()=>g,e_:()=>_,gf:()=>x,hf:()=>P,i_:()=>n,jY:()=>v,ni:()=>E,qg:()=>h,rX:()=>r,vX:()=>y,yG:()=>b,yq:()=>z});let i="10",r=1,o=365,s=64,l=8,n=9,d=11,c=15,h=16,_=17,u=18,m=19,b=20,g=22,p=1e6,x=1e6,C="US";function v(e){let t="USD",a="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",a="€";break;case"AU":t="AUD",a="$";break;case"CA":t="CAD",a="$";break;case"CH":t="CHF",a="CHF";break;case"DK":t="DKK",a="kr";break;case"GB":t="GBP",a="£";break;case"NO":t="NOK",a="kr";break;case"NZ":t="NZD",a="$";break;case"SE":t="SEK",a="kr"}return[t,a]}let f={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},E={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},A={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},j={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},P="QUICK_PROMOTE_PAGE",y=[j.GDPR_MODAL,j.PIN_SELECTION_MODAL,P,j.BUSINESS_FORM,j.BILLING_FORM,j.SUCCESS_MODAL,j.ERROR_MODAL],S={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},I=e=>e>=1&&e<=2,w="qp-fac-education-id",z="qp-fac-modal-education-id",B={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"}},847754:(e,t,a)=>{a.d(t,{I:()=>n,Z:()=>l});var i=a(340523),r=a(757640),o=a(35222);let s=({boardId:e,ownerUsername:t,ownerName:a,ownerImgSrc:s})=>{let{anyEnabled:l}=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_ga"),n=(0,o.Z)(),{data:d,isLoaded:c}=(0,r.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...l&&n?{orbac_subject_id:n}:{}}}),h=[{name:a,src:s,href:`/${t}/`,isDim:!1}];return c&&d&&d.length>0&&d.forEach(e=>{h.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),h},l=s;function n({children:e,...t}){return e(s(t))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/81471-054032a2b2ee890c.mjs.map